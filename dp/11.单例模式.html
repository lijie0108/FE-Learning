<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // 单例模式就是希望可以在使用方法创建对象的时候，我们无论创建多少次对象都指向同一个
    // 创建对象
    // function notSingle() {
    //   return {
    //     a: 1
    //   }
    // }

    // var a = notSingle();
    // var b = notSingle();
    // console.log(a == b); // false

    // function NotSingle() {
    //   this.a = '123';
    // }

    // var a1 = new NotSingle();
    // var a2 = new NotSingle();
    // console.log(a1 == a2); // false

    // var _unique = null;
    // function createSingle() {
    //   var obj = {
    //     a: 1
    //   }
    //   if(_unique === null) {
    //     _unique = obj;
    //   }
    //   return _unique;
    // }

    // var s1 = createSingle();
    // _unique = null;
    // var s2 = createSingle();
    // console.log(s1 == s2);

    var createSingle = (function() {
      var _unique = null;

      function single() {
        return {
          a: 1
        }
      }
      return function() {
        console.log(_unique)
        if(_unique === null) {
          _unique = single();
        }
        return _unique
      }
    })()

    var a1 = createSingle();
    var b1 = createSingle();
    console.log(a1 === b1);


  </script>
</body>
</html>